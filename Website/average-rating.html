<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="author" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <a href="index.html"><h1>Back</h1></a>
    <br><br><br>
    <h1>Get the average rating of recipes of each foodtype</h1>
    <button id="submit" onclick="getAverage()">Get average</button>
    <h1>Get the average rating of recipes of the food type that have average cooking time under 35mins (fast food)</h1>
    <button id="submit-fast" onclick="getAverageOfFast()">Get average of Fast Food</button>
    <br>
    <textarea id="output" rows=10 cols=100></textarea>

    <script>
        function getAverage() {
            url = "http://localhost:8080/average-rating"
            console.log(url);
            console.log($.get(url, function(data) {
                console.log(data);
                document.getElementById("output").textContent = data;
                //alert("The average rating of all recipes is: " + data);
            }));
        }

        function getAverageOfFast() {
            url = "http://localhost:8080/average-rating-fast"
            console.log(url);
            console.log($.get(url, function(data) {
                console.log(data);
                document.getElementById("output").textContent = data;
            }));
        }

        serialize = function(obj) {
        var str = [];
        for (var p in obj)
            if (obj.hasOwnProperty(p)) {
                str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
            }
        return str.join("&");
        }
    </script>
</body>

</html>